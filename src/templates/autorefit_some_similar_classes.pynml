// autorefits, some classes limited (strict match, must be only class set for a cargo)
// liquid <-> liquid
// pax <-> pax
// any other <-> any other

// -- handle subtype strings, used to aid players understand auto-refitting -- //
switch (FEAT_SHIPS, SELF, ${vehicle.id}_switch_cargo_subtype_text, cargo_classes) {
    bitmask(CC_LIQUID): return string(STR_TANKER);
    bitmask(CC_PASSENGERS): return string(STR_CABINS);
    return string(STR_CARGO_HOLDS);
}

// -- handle autorefitting -- //
switch (FEAT_SHIPS, SELF, ${vehicle.id}_switch_refit_cost_liquid, (extra_callback_info1 >> 16) & bitmask(CC_LIQUID)) {
    bitmask(CC_LIQUID): return 4 + CB_RESULT_AUTOREFIT;
    return 2;
}

switch (FEAT_SHIPS, SELF, ${vehicle.id}_switch_refit_cost_pax, extra_callback_info1 >> 16) {
    return 3;
}

switch (FEAT_SHIPS, SELF, ${vehicle.id}_switch_refit_cost_other, extra_callback_info1 >> 16) {
    return 1;
}

switch (FEAT_SHIPS, SELF, ${vehicle.id}_switch_refit_cost, cargo_classes) {
    bitmask(CC_LIQUID): ${vehicle.id}_switch_refit_cost_liquid;
    bitmask(CC_PASSENGERS): ${vehicle.id}_switch_refit_cost_pax;
    return ${vehicle.id}_switch_refit_cost_other;
}

